<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <link rel="icon" type="image/png" href="logo.png">
    <meta charset="UTF-8">
    <title>机箱温度控制台</title>
    <link rel="stylesheet" type="text/css" href="main.css">
</head>

<body>
<div class="button_div">
    <center>
        <ul>
            <li>当前温度： <span id="Temperature">正在读取</span></li>
            <li>当前湿度： <span id="Humidity">正在读取</span></li>
            <li>当前模式： <span id="Model">正在读取</span></li>
            <li>当前状态： <span id="fanStatus">正在读取</span></li>
            <li>最大温度： <span id="Temperature_MAX">正在读取</span></li>
        </ul>

        <form action="fan" method="post">
            <p>
                <span id="setText">设定最大温度(0~60)：</span>
                <input type="range" value="40" max="60" min="0" name="max_t">
            </p>
            </br>

            <div id="radio_list">
                <P>
                    常开<input class="radio" type="radio" value="open" name="status">
                    自动<input class="radio" type="radio" value="auto" name="status" checked>
                    关闭<input class="radio" type="radio" value="close" name="status">
                    <input type="submit" value="确定" class="button">
                </P>
            </div>
        </form>
    </center>
</div>
<script>
                setInterval(function() {
                    // Call a function repetatively with 1 Second interval
                    getData();
                    getModel();
                    getTemperature_MAX();
                    getfanStatus();
                    getHumidity();
                }, 1000); //1000mSeconds update rate

                function getData() {
                    var xhttp = new XMLHttpRequest();
                    xhttp.onreadystatechange = function() {
                        if (this.readyState == 4 && this.status == 200) {
                            document.getElementById("Temperature").innerHTML = this.responseText;
                        }
                    };
                    xhttp.open("GET", "temperature", true);
                    xhttp.send();
                }

                function getModel() {
                    var xhttp = new XMLHttpRequest();
                    xhttp.onreadystatechange = function() {
                        if (this.readyState == 4 && this.status == 200) {
                            document.getElementById("Model").innerHTML = this.responseText;
                        }
                    };
                    xhttp.open("GET", "Model", true);
                    xhttp.send();
                }


                function getTemperature_MAX() {
                    var xhttp = new XMLHttpRequest();
                    xhttp.onreadystatechange = function() {
                        if (this.readyState == 4 && this.status == 200) {
                            document.getElementById("Temperature_MAX").innerHTML = this.responseText;
                        }
                    };
                    xhttp.open("GET", "Temperature_MAX", true);
                    xhttp.send();
                }

                function getfanStatus() {
                    var xhttp = new XMLHttpRequest();
                    xhttp.onreadystatechange = function() {
                        if (this.readyState == 4 && this.status == 200) {
                            document.getElementById("fanStatus").innerHTML = this.responseText;
                        }
                    };
                    xhttp.open("GET", "fanStatus", true);
                    xhttp.send();
                }

                function getHumidity() {
                    var xhttp = new XMLHttpRequest();
                    xhttp.onreadystatechange = function() {
                        if (this.readyState == 4 && this.status == 200) {
                            document.getElementById("Humidity").innerHTML = this.responseText;
                        }
                    };
                    xhttp.open("GET", "Humidity", true);
                    xhttp.send();
                }






</script>
</body>

</html>